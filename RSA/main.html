<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }

        .container {
            text-align: center;
        }

        textarea,
        input[type="text"],
        input[type="button"] {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #encrypted,
        #decrypted {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
    <script type="text/javascript" src="hybrid-crypto.min.js"></script>
</head>

<body>

    <div class="container">
        <h2>Vigenère Cipher</h2>
        <!-- <h2> Encryption and Decryption</h2> -->
        <textarea id="inputText" placeholder="Enter text" rows="10" cols="100"></textarea>
        <br>
        <input type="text" id="inputKey" placeholder="Enter keyword">
        <br>
        <input type="button" value="Encrypt" onclick="encrypt()">
        <input type="button" value="Decrypt" onclick="decrypt()">
        <div id="encrypted"></div>
        <div id="decrypted"></div>
    </div>

    <script>



        var crypt = new Crypt();
        var rsa = new RSA();


        var publicKey;
        var privateKey;
        var encrypted;
        var decrypted;
        generateKeys();
        function generateKeys() {
            var rsa = new RSA();
            rsa.generateKeyPair(function (keyPair) {
                publicKey = keyPair.publicKey;
                privateKey = keyPair.privateKey;
            });
            setTimeout(function () {
                console.log('publicKey', publicKey);
                console.log('privateKey', privateKey);
            }, 3000);
        }



        function Encryption() {
            var entropy = 'Testing of RSA algorithm in javascript.';
            var crypt = new Crypt({
                rsaStandard: 'RSA-OAEP',
                entropy: entropy
            });
            var rsa = new RSA({
                entropy: entropy
            });
            var message = 'Hello, this is the demo of encryption/decryption in javascript!';
            encrypted = crypt.encrypt(publicKey, message);
            console.log('encrypted', encrypted);

            document.getElementById("encrypted").textContent = "Encrypted Text: " + encrypted;

        }
        setTimeout(() => {
            Encryption();
        }, 3000);




        function Decryption() {
            var entropy = 'Testing of RSA algorithm in javascript.';
            var crypt = new Crypt({
                rsaStandard: 'RSA-OAEP',
                entropy: entropy
            });
            var rsa = new RSA({
                entropy: entropy
            });
            decrypted = crypt.decrypt(privateKey, encrypted);
            console.log('decrypted', decrypted);
        }
        setTimeout(() => {
            Decryption();
        }, 3000);



        // function encrypt() {
        //     var text = document.getElementById("inputText").value;
        //     var keyword = document.getElementById("inputKey").value.toUpperCase();
        //     var encryptedText = "";
        //     var keyIndex = 0;

        //     for (var i = 0; i < text.length; i++) {
        //         var charCode = text.charCodeAt(i);
        //         if (charCode >= 65 && charCode <= 90) {
        //             var shift = keyword.charCodeAt(keyIndex) - 65;
        //             encryptedText += String.fromCharCode((charCode - 65 + shift) % 26 + 65);
        //             keyIndex = (keyIndex + 1) % keyword.length;
        //         } else if (charCode >= 97 && charCode <= 122) {
        //             var shift = keyword.charCodeAt(keyIndex) - 65;
        //             encryptedText += String.fromCharCode((charCode - 97 + shift) % 26 + 97);
        //             keyIndex = (keyIndex + 1) % keyword.length;
        //         } else {
        //             encryptedText += text[i];
        //         }
        //     }
        //     document.getElementById("encrypted").textContent = "Encrypted Text: " + encryptedText;
        // }

        // function decrypt() {
        //     var text = document.getElementById("inputText").value;
        //     var keyword = document.getElementById("inputKey").value.toUpperCase();
        //     var decryptedText = "";
        //     var keyIndex = 0;

        //     for (var i = 0; i < text.length; i++) {
        //         var charCode = text.charCodeAt(i);
        //         if (charCode >= 65 && charCode <= 90) {
        //             var shift = keyword.charCodeAt(keyIndex) - 65;
        //             decryptedText += String.fromCharCode((charCode - 65 - shift + 26) % 26 + 65);
        //             keyIndex = (keyIndex + 1) % keyword.length;
        //         } else if (charCode >= 97 && charCode <= 122) {
        //             var shift = keyword.charCodeAt(keyIndex) - 65;
        //             decryptedText += String.fromCharCode((charCode - 97 - shift + 26) % 26 + 97);
        //             keyIndex = (keyIndex + 1) % keyword.length;
        //         } else {
        //             decryptedText += text[i];
        //         }
        //     }
        //     document.getElementById("decrypted").textContent = "Decrypted Text: " + decryptedText;
        // }
    </script>

</body>

</html>